const __vite__fileDeps=["assets/DeckView-OuW9uilD.js","assets/react-vendor-CllrtqDN.js","assets/vendor-kP31MWcD.js","assets/database-_ZSyCo0Q.js","assets/editor-C2bVNK98.js","assets/rxjs-DNGqVrHU.js","assets/mantine-charts-Bb-jmQwj.js","assets/react-vendor-BAmBhzbe.css","assets/useDeckFromUrl-C2WXOaol.js","assets/utils-UxpEuF8F.js","assets/NoteMenu-DjJPjBu1.js","assets/DangerousConfirmModal-DL1P1d32.js","assets/deleteNote-wh9Y2_6_.js","assets/NoteSubmitButton-B013PIhx.js","assets/NoteMenu-ttcVNP33.css","assets/Stat-D5t7p8L1.js","assets/Stat-B-pG08Pf.css","assets/DeckView-BURcZ48k.css","assets/NewNotesView-hcZwMXUe.js","assets/SelectDecksHeader-CuZFQzvD.js","assets/NewNotesView-DC6Lmja5.css","assets/NoteExplorerView-uf53LbVg.js","assets/NoteExplorerView-C6ZA0s1N.css","assets/LearnView-DLiE1el5.js","assets/setSetting-CXi6ucz2.js","assets/LearnView-DHl96DCP.css","assets/SettingsView-D1_pprI3.js","assets/SettingsView-CQW0lAQ5.css","assets/StatsView-COrDzEhT.js","assets/TodayView-Cml_Qg6j.js"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{c as ut,T as ve,a as Ve,b as Me,S as We,d as mt,P as pt,N as re,A as M,B as ht,M as gt,e as je,K as Y,f as Ke,g as v,u as Ue,r as m,j as t,C as ie,h,I as fe,i as S,k as w,G as x,l as ft,m as qe,n as Le,o as bt,p as Ge,q as be,s as $,t as wt,v as kt,w as xt,x as B,F as yt,R as f,y as vt,z as Qe,D as jt,L as _t,E as St,H as Ct,J as j,O as V,Q as Ye,U as Ze,V as Nt,W,X as It,Y as zt,Z as Dt,_ as Be,$ as _e,a0 as le,a1 as Z,a2 as K,a3 as O,a4 as Et,a5 as At,a6 as Se,a7 as U,a8 as Tt,a9 as Mt,aa as ue,ab as Lt,ac as Oe,ad as Je,ae as Xe,af as G,ag as we,ah as Bt,ai as Ot,aj as Ft,ak as Rt,al as $t,am as Pt,an as Ht,ao as Vt,ap as Wt,aq as Kt,ar as Ut,as as C,at as qt,au as Gt,av as Qt,aw as Yt,ax as Zt}from"./react-vendor-CllrtqDN.js";import{D as Jt,w as Xt,Y as en}from"./database-_ZSyCo0Q.js";import{co as Ce,at as J}from"./vendor-kP31MWcD.js";import{i as z,C as tn,t as b,S as q}from"./utils-UxpEuF8F.js";import{I as nn,S as on,H as sn,c as an,d as rn,U as ln,f as cn,g as dn,h as un,T as mn,C as pn,i as hn}from"./editor-C2bVNK98.js";import"./mantine-charts-Bb-jmQwj.js";import"./rxjs-DNGqVrHU.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function o(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=o(s);fetch(s.href,a)}})();const gn="modulepreload",fn=function(e){return"/"+e},Fe={},A=function(n,o,r){let s=Promise.resolve();if(o&&o.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));s=Promise.all(o.map(i=>{if(i=fn(i),i in Fe)return;Fe[i]=!0;const d=i.endsWith(".css"),u=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${i}"]${u}`))return;const g=document.createElement("link");if(g.rel=d?"stylesheet":gn,d||(g.as="script",g.crossOrigin=""),g.href=i,l&&g.setAttribute("nonce",l),document.head.appendChild(g),d)return new Promise((k,_)=>{g.addEventListener("load",k),g.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${i}`)))})}))}return s.then(()=>n()).catch(a=>{const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a})},bn="_main_ku2ek_1",wn={main:bn},kn="_content_1yez3_1",xn="_actionLabel_1yez3_6",yn="_spotlightButton_1yez3_10",vn="_spotlightButtonSection_1yez3_28",jn="_minimalMode_1yez3_34",_n="_spotlightButtonIcon_1yez3_37",Sn="_overlay_1yez3_52",Cn="_empty_1yez3_68",I={content:kn,actionLabel:xn,spotlightButton:yn,spotlightButtonSection:vn,minimalMode:jn,spotlightButtonIcon:_n,overlay:Sn,empty:Cn},Nn="_root_1a6so_1",In={root:Nn},zn={},Dn="_breadcrumb_p3yst_1",En="_separator_p3yst_20",An={breadcrumb:Dn,separator:En},Tn="_root_1o1ce_1",Mn="_section_1o1ce_26",Ln={root:Tn,section:Mn},Bn="_dropdown_1l3vf_1",On="_item_1l3vf_5",Fn={dropdown:Bn,item:On},Rn="_title_dd8sf_1",$n="_close_dd8sf_6",Pn="_overlay_dd8sf_9",Hn={title:Rn,close:$n,overlay:Pn},Vn={},Wn="_root_1n500_1",Kn={root:Wn},Un="_dropdown_17z27_1",qn={dropdown:Un},Gn="_dropdown_17z27_1",Qn={dropdown:Gn},Yn="_tab_od7d0_1",Zn="_root_od7d0_4",Jn="_list_od7d0_7",Xn="_tabSection_od7d0_40",eo={tab:Yn,root:Zn,list:Jn,tabSection:Xn},to="_root_1cjrb_1",no={root:to},oo="_tooltip_1mn4n_1",so={tooltip:oo},ao={fontFamily:"Noto Serif Lao",fontWeight:"500",sizes:{h1:{fontSize:"2rem"},h2:{fontSize:"1.5rem"},h3:{fontSize:"1.25rem"},h4:{fontSize:"1.125rem"},h5:{fontSize:"1rem"},h6:{fontSize:"0.875rem"}}},ro=ut({other:{},headings:ao,fontFamily:"Open Sans, sans-serif",colors:{forest:["#E1EFE6","#BADBC9","#87C0A4","#75B797","#63AE8A","#52A57E","#439C72","#378C6A","#2E8064","#1E6B5A"],seaweed:["#e5f9fd","#c4edf3","#99dae5","#7bd3e0","#50bece","#36a3b4","#288391","#227885","#1d6873","#12545d"],coral:["#ffe6ea","#f7bec4","#eb959d","#e16b77","#d74150","#be2836","#941e2a","#6a141d","#420910","#1d0003"],seagull:["#e6f2ff","#CFDCED","#B8C7DB","#A1B2C9","#8A9DB7","#7388A6","#5C7394","#455E82","#2E4970","#17345F"]},primaryColor:"forest",defaultGradient:{deg:45,from:"forest.5",to:"forest.7"},components:{AppShell:M.extend({classNames:zn}),Button:v.extend({classNames:Ln}),ActionIcon:Ke.extend({defaultProps:{size:"lg",variant:"default"},classNames:In}),Kbd:Y.extend({defaultProps:{size:"xs"}}),Modal:je.extend({defaultProps:{shadow:"xl",size:"500px",radius:"md",centered:!0,closeOnClickOutside:!1,closeOnEscape:!0,withCloseButton:!0,closeButtonProps:{size:"sm"}},classNames:Hn}),Menu:gt.extend({classNames:Fn}),Breadcrumbs:ht.extend({classNames:An}),Navbar:M.Navbar.extend({classNames:Kn}),NavLink:re.extend({defaultProps:{variant:"light"},classNames:Vn}),Popover:pt.extend({classNames:qn}),Select:mt.extend({classNames:Qn}),Spotlight:We.extend({classNames:I}),Tabs:Me.extend({classNames:eo}),TabsPanel:Me.Panel.extend({defaultProps:{pt:"sm"}}),ThemeIcon:Ve.extend({classNames:no}),Tooltip:ve.extend({classNames:so,defaultProps:{openDelay:500,closeDelay:0}}),InputWrapper:{styles:()=>({label:{userSelect:"none"}})},Input:{styles:()=>({icon:{"& svg":{strokeWidth:"1.5px",width:"1.2rem"}}})}}}),io=e=>({variables:{},light:{"--mantine-color-red-strong":e.colors.red[7],"--mantine-color-pink-strong":e.colors.pink[7],"--mantine-color-grape-strong":e.colors.grape[7],"--mantine-color-violet-strong":e.colors.violet[7],"--mantine-color-indigo-strong":e.colors.indigo[7],"--mantine-color-blue-strong":e.colors.blue[7],"--mantine-color-cyan-strong":e.colors.cyan[7],"--mantine-color-teal-strong":e.colors.teal[7],"--mantine-color-green-strong":e.colors.green[7],"--mantine-color-lime-strong":e.colors.lime[7],"--mantine-color-yellow-strong":e.colors.yellow[7],"--mantine-color-orange-strong":e.colors.orange[7],"--mantine-color-gray-strong":e.colors.gray[6],"--mantine-color-light-border":e.colors.gray[3]},dark:{"--mantine-color-red-strong":e.colors.red[3],"--mantine-color-pink-strong":e.colors.pink[3],"--mantine-color-grape-strong":e.colors.grape[3],"--mantine-color-violet-strong":e.colors.violet[3],"--mantine-color-indigo-strong":e.colors.indigo[3],"--mantine-color-blue-strong":e.colors.blue[3],"--mantine-color-cyan-strong":e.colors.cyan[3],"--mantine-color-teal-strong":e.colors.teal[3],"--mantine-color-green-strong":e.colors.green[3],"--mantine-color-lime-strong":e.colors.lime[3],"--mantine-color-yellow-strong":e.colors.yellow[3],"--mantine-color-orange-strong":e.colors.orange[3],"--mantine-color-gray-strong":e.colors.gray[5],"--mantine-color-light-border":e.colors.dark[5]}});function lo(){const[e,n]=Ue({key:"registered",defaultValue:!1});return m.useEffect(()=>{},[]),t.jsx(ie,{py:"4rem",px:"0.5rem",w:"100%",children:t.jsxs(h,{gap:"2rem",maw:"600px",children:[t.jsxs("div",{style:{position:"relative"},children:[t.jsx(fe,{src:"logo.svg",alt:"Skola Logo",maw:"4rem",style:{position:"absolute",filter:"blur(20px)",opacity:.5,zIndex:-1}}),t.jsx(fe,{src:"logo.svg",alt:"Skola Logo",maw:"4rem"})]}),t.jsxs(h,{gap:"xs",children:[t.jsx(S,{order:1,children:"Welcome to Skola!"}),t.jsx(w,{fz:"sm",children:"A flash card learning app here in your browser."}),["No sign-up required","Free and open source","Directly in your browser","No tracking"].map(o=>t.jsxs(x,{align:"center",gap:"xs",children:[t.jsx(ft,{style:{color:"var(--mantine-color-green-strong)"},size:12})," ",t.jsx(w,{fz:"sm",children:o})]},o))]}),t.jsxs(qe,{color:"gray",icon:t.jsx(bt,{}),children:["Please note that this app is still in early development. You may encounter bugs and missing features. If you find any issues, consider reporting them on the"," ",t.jsx(Le,{href:"https://www.github.com/h16nning/skola",fz:"sm",style:{whiteSpace:"nowrap"},children:"GitHub repository"}),"."]}),t.jsxs(h,{gap:"xs",children:[t.jsx(S,{order:3,children:"About the project"}),t.jsxs(w,{fz:"sm",children:["Skola is a project developed by a student aiming to provide an alternative to spaced repetition apps like Anki and SuperMemo. It is open-source and completely free to use. The focus lies on creating a fun to use and intuitive experience. You can find more information on the"," ",t.jsx(Le,{href:"https://www.github.com/h16nning/skola",fz:"sm",children:"GitHub repository"}),"."]})]}),t.jsxs(h,{gap:"xs",children:[t.jsx(S,{order:3,children:"About privacy"}),t.jsx(w,{fz:"sm",children:"Privacy is a priority of this project. Skola saves decks and cards locally in your browser using the IndexedDB API. Furthermore local storage and cookies are being used to store relevant data. We do not collect any personal data. Currently, a syncing feature is under development allowing you to store your data in the cloud. However, this feature is totally optional."})]}),t.jsx(x,{align:"start",children:t.jsx(v,{onClick:()=>n(!0),size:"md",variant:"gradient",children:"Get Started Now"})})]})})}class co extends Jt{constructor(){super("skola_db",{addons:[Xt],cache:"disabled"}),this.version(16).stores({cards:"id, note, deck",decks:"id, *cards, *notes, *subDecks, *superDecks",notes:"id, deck, sortField",statistics:"[deck+day], day",settings:"key"}),this.open()}}const c=new co;let Re=!1;function et(){Re||(c.cloud.configure({databaseUrl:"https://zo30f12v5.dexie.cloud",tryUseServiceWorker:!0,customLoginGui:!0}),Re=!0)}function uo(){var s,a,l;m.useEffect(()=>{et()},[]);const[e,n]=m.useState({}),o=Ge(c.cloud.userInteraction),r=o?t.jsxs(t.Fragment,{children:[(s=o.alerts)==null?void 0:s.map(i=>t.jsx(w,{c:"red",size:"sm",children:en(i)},i.messageCode)),t.jsx("form",{onSubmit:i=>{i.preventDefault(),o.onSubmit(e)},children:Object.entries(o.fields).map(([i,d])=>t.jsx(be,{label:d.label,autoFocus:!0,placeholder:d.placeholder,value:e[i]||"",onChange:u=>n({...e,[i]:u.currentTarget.value})},i))})," ",t.jsxs(x,{justify:"end",gap:"sm",children:[t.jsx(v,{onClick:o.onCancel,variant:"default",children:o.cancelLabel}),t.jsx(v,{type:"submit",onClick:()=>o.onSubmit(e),children:o.submitLabel})]})]}):null;return t.jsx(je,{opened:o!==void 0,onClose:(a=o==null?void 0:o.onCancel)!=null?a:()=>{},title:t.jsxs(x,{gap:"xs",children:[t.jsx($,{color:"red",children:"Experimental"}),t.jsx("span",{children:(l=o==null?void 0:o.title)!=null?l:""})]}),children:t.jsxs(h,{gap:"lg",children:[t.jsx(w,{size:"sm",c:"red",children:"Warning: Don't use this if you don't know what you are doing! Your data will be synced to a server w/o encryption. In this early state, a test account will be created w/ your email. After 30 days it will be deleted."}),r]})})}const mo="_header_6lrq6_1",po="_scrolled_6lrq6_7",$e={header:mo,scrolled:po},tt="APP_HEADER_OUTLET",ho=()=>t.jsx("div",{id:tt,style:{flexGrow:2}}),go=({children:e})=>{const n=document.getElementById(tt);return n&&wt.createPortal(e,n)};function fo({menuOpened:e,menuHandlers:n}){const[o]=kt();return t.jsx(M.Header,{withBorder:!1,className:$e.header+" "+(o.y>5&&$e.scrolled),children:t.jsxs(x,{h:"100%",px:"sm",p:"sm",justify:"flex-start",wrap:"nowrap",children:[t.jsx(xt,{opened:e,onClick:n.toggle,hiddenFrom:"xs",size:"sm"}),t.jsx(ho,{})]})})}const bo="_sidebar_15dzu_1",wo="_topRow_15dzu_4",ko="_sidebarItem_15dzu_14",xo="_sidebarItemLabel_15dzu_18",yo="_sidebarItemIcon_15dzu_22",vo="_minimalMode_15dzu_31",jo="_sidebarItemBody_15dzu_43",_o="_fullscreenMode_15dzu_53",So="_landscapeMode_15dzu_59",Co="_fullscreenModeOpened_15dzu_62",y={sidebar:bo,topRow:wo,sidebarItem:ko,sidebarItemLabel:xo,sidebarItemIcon:yo,minimalMode:vo,sidebarItemBody:jo,fullscreenMode:_o,landscapeMode:So,fullscreenModeOpened:Co};var p=(e=>(e.Basic="normal",e.Cloze="cloze",e.ImageOcclusion="imageOcclusion",e.DoubleSided="doubleSided",e.Undefined="undefined",e))(p||{});const No="_content_18w6y_1",Io="_gap_18w6y_2",zo="_clicked_18w6y_14",Do={content:No,gap:Io,clicked:zo,"inline-menu":"_inline-menu_18w6y_18"};var nt=(e=>(e.English="en",e.German="de",e.Swedish="sv",e.Portuguese="pt",e))(nt||{});const X={language:nt.English,useVisualFeedback:!0,developerMode:!1,showShortcutHints:!0,colorSchemePreference:"auto",useBubbleMenu:!0,useToolbar:!1,showSubAndSuperScriptOptionInEditor:!0,showStrikethroughOptionInEditor:!0,showHighlightOptionInEditor:!0,showListOptionInEditor:!0,showCodeOptionInEditor:!0,showLinkOptionInEditor:!0,learn_newToReviewRatio:.5,learn_sort:"creationDate",globalScheduler_maximumInterval:36500,globalScheduler_requestRetention:.9,globalScheduler_w:[.4,.6,2.4,5.8,4.93,.94,.86,.01,1.49,.14,.94,2.18,.05,.34,1.26,.29,2.61]};function ot(){return B(()=>c.settings.toArray().then(e=>[(e!=null?e:[]).reduce((n,o)=>({...n,[o.key]:o.value}),X),!0]),[],[X,!1])}const Eo=nn.extend({addCommands(){var n;const e="image";return{...(n=this.parent)==null?void 0:n.call(this),insertImage(o){return({editor:r,commands:s})=>{const a=on.atEnd(r.state.doc);return s.insertContent([{type:e,attrs:o},...r.state.selection.to===a.to?[{type:"paragraph"}]:[]])}}}}}),Ao="_root_c7gj4_1",To="_content_c7gj4_2",Mo="_toolbar_c7gj4_24",Lo="_controlsWrapper_c7gj4_42",R={root:Ao,content:To,toolbar:Mo,controlsWrapper:Lo};function Bo({editor:e}){return t.jsx(yt,{onChange:n=>{const o=new FileReader;let r;n&&o.readAsDataURL(n),o.onloadend=()=>{r=o.result,e==null||e.commands.insertContent('<img src="'+r+'" alt="Image inserted by user"/>'),e==null||e.commands.focus()}},accept:"image/jpeg, image/jpg, image/png, image/heic",children:n=>t.jsx(f.Control,{...n,tabIndex:-1,children:t.jsx(vt,{})})})}function me({editor:e,controls:n}){const[o]=ot();return t.jsxs(Qe,{className:R.controlsWrapper,tabIndex:-1,children:[t.jsxs(f.ControlsGroup,{tabIndex:-1,children:[t.jsx(f.Bold,{tabIndex:-1}),t.jsx(f.Italic,{tabIndex:-1}),t.jsx(f.Underline,{tabIndex:-1}),o.showStrikethroughOptionInEditor&&t.jsx(f.Strikethrough,{tabIndex:-1}),o.showHighlightOptionInEditor&&t.jsx(f.Highlight,{tabIndex:-1}),o.showCodeOptionInEditor&&t.jsx(f.Code,{tabIndex:-1}),o.showSubAndSuperScriptOptionInEditor&&t.jsxs(t.Fragment,{children:[t.jsx(f.Subscript,{tabIndex:-1}),t.jsx(f.Superscript,{tabIndex:-1})]}),t.jsx(f.ClearFormatting,{tabIndex:-1})]}),t.jsxs(f.ControlsGroup,{tabIndex:-1,children:[o.showListOptionInEditor&&t.jsxs(t.Fragment,{children:[t.jsx(f.BulletList,{tabIndex:-1}),t.jsx(f.OrderedList,{tabIndex:-1})]}),t.jsx(Bo,{editor:e})]}),o.showLinkOptionInEditor&&t.jsxs(f.ControlsGroup,{tabIndex:-1,children:[t.jsx(f.Link,{tabIndex:-1}),t.jsx(f.Unlink,{tabIndex:-1})]}),t.jsx(f.ControlsGroup,{tabIndex:-1,children:n})]})}const Oo=sn.extend({addKeyboardShortcuts(){return{"Shift-Enter":()=>this.editor.commands.setHardBreak()}}});function P(e){var n;return jt({extensions:[an.create({name:"addcard",addKeyboardShortcuts(){return{"Mod-Enter":()=>(e.finish&&e.finish(),!1),"Mod-j":()=>(this.editor.commands.blur(),e.focusSelectNoteType&&e.focusSelectNoteType(),!1)}}}),rn.configure({hardBreak:!1}),Oo,ln,_t,cn,dn,un,mn.configure({types:["heading","paragraph"]}),pn,hn,Eo,...(n=e.extensions)!=null?n:[]],content:e.content,onUpdate:e.onUpdate||(()=>{})},[e.content])}function H({editor:e,controls:n,className:o}){const[r,s]=ot(),a=l=>{const{files:i}=l;if(e&&i&&i.length>0)for(const d of Array.from(i)){const[u]=d.type.split("/");if(u==="image"){const g=URL.createObjectURL(d);e.commands.insertImage({src:g})}}};return t.jsx(t.Fragment,{children:t.jsxs(f,{editor:e,withTypographyStyles:!1,className:o,classNames:{root:R.root,toolbar:R.toolbar,content:R.content},children:[s&&t.jsxs(t.Fragment,{children:[e&&e.isFocused&&r.useToolbar&&t.jsx(f.Toolbar,{className:R.toolbar,tabIndex:-1,children:t.jsx(me,{controls:n,editor:e})}),e&&r.useBubbleMenu&&t.jsx(St,{editor:e,tippyOptions:{maxWidth:"none"},children:t.jsx(me,{controls:n,editor:e})}),e&&r.useBubbleMenu&&t.jsx(Ct,{editor:e,children:t.jsx(me,{controls:n,editor:e})})]}),t.jsx(f.Content,{onDrop:l=>{l.preventDefault(),l.stopPropagation(),a(l.dataTransfer)}})]})})}const Fo="_root_1cfsu_1",Ro="_title_1cfsu_13",$o="_description_1cfsu_18",Po="_icon_1cfsu_23",N={root:Fo,title:Ro,description:$o,icon:Po};function Ne(){return j.show({title:"Card Saved",message:"The changes have been saved!",color:"green",withCloseButton:!1,icon:t.jsx(Ze,{}),className:N})}function Ie(){return j.show({title:"Card Added",message:"Card added successfully!",autoClose:1e3,color:"teal",withCloseButton:!1,icon:t.jsx(Ze,{}),className:N})}function or(e){return j.show({title:"Card Moved",message:`Card moved to ${e}!`,autoClose:1e3,color:"teal",withCloseButton:!1,icon:t.jsx(Ye,{}),className:N})}function sr(e){return j.show({title:"Note Moved",message:`Note moved to ${e}!`,autoClose:1e3,color:"teal",withCloseButton:!1,icon:t.jsx(Ye,{}),className:N})}function ar(e){return j.show({title:{card:"Card Deleted",deck:"Deck Deleted",note:"Note Deleted"}[e],message:"This object has been deleted!",autoClose:1e3,color:"teal",withCloseButton:!1,icon:t.jsx(Nt,{}),className:N})}function ze(){return j.show({title:"Something went wrong!",message:"The changes could not be saved. Please try again later!",autoClose:1500,color:"red",withCloseButton:!1,icon:t.jsx(V,{}),className:N})}function De(){return j.show({title:"Something went wrong!",message:"The card could not be added. Please try again later!",autoClose:1500,color:"red",withCloseButton:!1,icon:t.jsx(V,{}),className:N})}function rr(e){return j.show({title:{card:"Card",deck:"Deck",note:"Note"}[e]+" Could Not Be Deleted",message:"There was an error deleting this object. Please try again later!",autoClose:1500,color:"red",withCloseButton:!1,icon:t.jsx(V,{}),className:N})}function ir(){return j.show({title:"Something went wrong!",message:"This action could not be completed. Please try again later!",autoClose:1500,color:"red",withCloseButton:!1,icon:t.jsx(V,{}),className:N})}function Ho({note:e,deck:n,mode:o,requestedFinish:r,setRequestedFinish:s,focusSelectNoteType:a}){var g;W([["mod+Enter",()=>s(!0)]]);const l=(g=e==null?void 0:e.content)!=null?g:{type:p.Cloze,text:""},i=P({content:l.text,finish:()=>{s(!0)},focusSelectNoteType:a}),d=m.useMemo(()=>{var _;const k=ke((_=i==null?void 0:i.getHTML())!=null?_:"");for(let D=1;D<10;D++)if(!k.includes(D))return D;return 9},[i==null?void 0:i.getHTML()]),u=m.useCallback(()=>{i==null||i.commands.setContent(""),i==null||i.commands.focus()},[i]);return m.useEffect(()=>{r&&(Vo(o,u,n,e,i),s(!1))},[r,o,u,n,e,i]),t.jsx(H,{editor:i,className:Do,controls:t.jsx(f.Control,{tabIndex:-1,onClick:()=>{if((i==null?void 0:i.state.selection.from)!==(i==null?void 0:i.state.selection.to)){const k=`{{c${d}::${window.getSelection()}}}`;i==null||i.commands.insertContent(k)}else i==null||i.commands.insertContent(`{{c${d}::}}`),i==null||i.commands.setTextSelection((i==null?void 0:i.state.selection.to)-2)},children:t.jsx(It,{})})})}async function Vo(e,n,o,r,s){var a,l,i,d;if(e==="edit")try{if(!r)throw new Error("Note not found");await xe.updateNote({text:(a=s==null?void 0:s.getHTML())!=null?a:"",occlusionNumberSet:ke((l=s==null?void 0:s.getHTML())!=null?l:"")},r),Ne()}catch{ze()}else{const u=ke((i=s==null?void 0:s.getHTML())!=null?i:"");try{xe.createNote({text:(d=s==null?void 0:s.getHTML())!=null?d:"",occlusionNumberSet:u},o),n(),Ie()}catch{De()}}}function ke(e){const n=/\{\{c(\d+)::((?!\{\{|}}).)*\}\}/g,o=e.match(n),r=new Set;return o==null||o.forEach(s=>{const a=s.match(/c(\d+)::/);if(a&&a[1]){const l=Number.parseInt(a[1]);r.add(l)}}),Array.from(r)}const Wo={"delete-modal":{description:`Du bist dabei, diese Karte zu löschen. 
Das kann nicht rückgängig gemacht werden. 
Möchtest du fortfahren?`,title:"Karte löschen"},menu:{debug:"Debug",delete:"Löschen",edit:"Bearbeiten",move:"Bewegen",options:"Optionen",statistics:"Statistiken"}},Ko={"add-cards":"Karten hinzufügen","add-cards-tooltip":"Füge diesem Stapel Karten hinzu","create-deck-tooltip":"Klicke hier, um ein neues Deck zu erstellen","learning-cards-label":"Lernen","learning-cards-label_one":"1 Lernen","learning-cards-label_other":"{{count}} Lernen",menu:{debug:"Debug",delete:"Löschen","import-cards":"Karten importieren",label:"Menu","manage-cards":"Karten verwalten",move:"Bewegen",options:"Optionen",rename:"Umbenennen"},"new-cards-label":"Neu","new-cards-label_one":"1 Neu","new-cards-label_other":"{{count}} Neue","new-deck-button":"Neuer Stapel","new-deck-modal":{description:"Beschreibung","description-placeholder":"Optional",name:"Name","name-placeholder":"zum Beispiel „Spanisch“, „Anatomie“ oder „Geschichte“","new-deck":"Neuen Stapel erstellen","new-subdeck":"Neuen Unterstapel in {{superDeck}} erstellen",submit:"Erstellen"},"no-decks-found":"Es gibt noch keine Stapel hier. Füge einen neuen hinzu!",notebook:{title:"Notizbuch"},rename:{"new-name":"Neuer Name","rename-button":"Umbenennen",title:"„{{deckName}}“ umbenennen"},"review-cards-label":"Wiederholen","review-cards-label_one":"1 Wiederholen","review-cards-label_other":"{{count}} Wiederholen",settings:"Einstellungen",subdeck:{"add-subdeck-button":"Hinzufügen","load-fail":"Fehler beim Laden der Unterstapel",title:"Unterstapel"}},Uo={cancel:"Abbrechen","feature-status":{"in-development":" (In Entwicklung)",new:" (Neu)",planned:" (Geplant)"},"no-items-title":"Hier sieht es leer aus!"},qo={"no-decks-found":"Du hast noch keine Stapel erstellt.",title:"Startseite",welcome:"Willkommen!","welcome-user":"Willkommen zurück, {{name}}!"},Go={"finished-accuracy-ratio":"Genauigkeit","finished-button-home":"Zum Start","finished-button-to-deck":"Zurück zum Stapel","finished-congrats":"Herzlichen Glückwunsch!","finished-congrats-name":"Herzlichen Glückwunsch, {{name}}!","finished-duration":"Dauer","finished-info":"Du hast alle Karten in diesem Stapel für heute gelernt!","finished-repetions-count":"Wiederholt"},Qo={"delete-modal":{description:"Du bist gerade dabei, diese Notiz zu löschen. Das kann nicht rückgängig gemacht werden.",title:"Notiz löschen"},edit:{"see-history-button":"Verlauf","see-history-tooltip":"Verlauf der zuletzt erstellten Karten anzeigen","submit-button":"Karte speichern","submit-button-tooltip":"Änderungen speichern",title:"Notiz bearbeiten","type-specific":{"double-sided":{back:"Rückseite",front:"Vorderseite"},normal:{back:"Rückseite",front:"Vorderseite"}}},menu:{delete:"Löschen",edit:"Bearbeiten",move:"Bewegen"},new:{"adding-to-deck":"Zu „{{deckName}}“ hinzufügen","select-note-type":{label:"Kartentyp",tooltip:"Wähle den Kartentyp, den du erstellen möchtest."},"submit-button":"Karten hinzufügen","submit-button-tooltip":"Karte hinzufügen",title:"Neue Karten"},type:{cloze:"Lückentext","image-occlusion":"Bildverdeckung",normal:"Normal",undefined:"Nicht definiert"},"type-double-sided":"Beidseitig"},Yo={"individual-show-answer-toggle-tooltip":"Klicke, um die Antwort anzuzeigen",options:{"exclude-subdecks":"Unterstapel ausschließen","show-answer":"Antworten anzeigen"}},Zo={about:{description:"Skola wird von einem Medizinstudenten aus Deutschland entwickelt. Es befindet sich in der frühen Entwicklung. Daher ist es möglich, dass du vielen Bugs begegnest. Wenn dir solche auffallen, würde ich mich sehr freuen, wenn du diese im Git-Repository meldest.",title:"Über"},appearance:{"color-scheme":"Erscheinungsbild","color-scheme-auto":"System","color-scheme-dark":"Dunkel","color-scheme-description":"Wähle ein immer helles oder dunkles Erscheinungsbild oder benutze deine Systemeinstellungen.","color-scheme-light":"Hell",title:"Erscheinungsbild"},database:{"storage-used":"benutzt",title:"Datenbank"},developer:{description:"",title:"Entwickler"},editing:{"editor-options":"Bearbeitungsfeld","individual-options":"Einzelne Optionen","markdown-hint":"Du kannst auch Tastaturkurzbefehle und einfache Markdown-Syntax benutzen, um Text zu formatieren.","show-code-option":"Option für Code","show-highlight-option":"Option zum Text markieren","show-link-option":"Optionen für Links","show-list-option":"Optionen für Listen","show-options-for-subscript-and-superscript":"Optionen für hoch- und tiefgestellten Text","show-strikethrough-option":"Option zum Durchstreichen",title:"Bearbeitung","use-bubble-menu":"Inline-Menü verwenden","use-toolbar":"Werkzeugleiste anzeigen","use-toolbar-description":"Immer eine Werkzeugleiste mit Bearbeitungsoptionen über dem Bearbeitungsfeld anzeigen"},"editing-use-bubble-menu-description":"Formatierungsoptionen nur anzeigen, wenn Text ausgewählt wird",general:{"enable-developer-mode":"Entwicklermodus aktivieren","enable-developer-mode-description":"Dies aktiviert erweiterte Optionen zum Debuggen und Entwickeln von Erweiterungen und Themes.","enable-zen-mode":"Zen Modus","enable-zen-mode-description":"Zen Modus aktiviert automatisch den Vollbildmodus während des Lernens.",language:"Sprache","language-description":"Ändere die Sprache der Benutzeroberfläche.",name:"Name","name-description":"Dein Name wird zur Anpassung der Benutzeroberfläche genutzt.","show-shortcut-hints":"Tastenkurzbefehle anzeigen","show-shortcut-hints-description":"In Menüs usw. werden mögliche Tastaturkurzbefehle angezeigt.",title:"Allgemein"},learn:{"enable-visual-feedback":"Visuelles Feedback aktivieren","enable-visual-feedback-description":"Zeige eine kurzes farbiges Blinken, wenn eine Karte richtig oder falsch beantwortet wurde.",maximumInterval:"Maximales Intervall",maximumIntervalDescription:"Das maximale Intervall in Tagen zwischen zwei Wiederholungen einer Karte",newToReviewRatio:"Neue Karten pro Wiederholungen",newToReviewRatioDescription:"Dies bestimmt, wie viele neue Karten im Schnitt pro Wiederholung gezeigt werden. Ein Wert von 0,5 bedeutet, dass Wiederholungen und neue Karten in gleicher Menge angezeigt werden.",requestRetention:"Erwünschte Abrufbarkeit",requestRetentionDescription:`Lege fest, an wie viel Prozent Fragen du dich langfristig erinnern möchtest. Achtung: Hohe Werte werden zu mehr Wiederholungen und kürzeren Intervallen führen. Niedrigere Werte werden im Allgemeinen den Lernumfang verringern. Wenn die erwünschte Abrufbarkeit zu niedrig ist, wirst du die Karten öfter vergessen, was u. U. zu einem erhöhten Lernbedarf führt. 
Empfohlene Werte liegen zwischen 0,70 und 0,95.`,title:"Lernen"},title:"Einstellungen"},Jo={"decks-add":"","decks-title":""},Xo={"no-results":"Keine Ergenisse"},es={title:"Statistik"},ts={title:"Heute"},ns={card:Wo,deck:Ko,global:Uo,"hero-deck-section":{"all-cards-done-learn-anyway":"Trotzdem lernen","all-cards-done-subtitle":"Komme morgen zurück oder lerne trotzdem.","all-cards-done-title":`Glückwunsch! 
Dieser Stapel ist für heute erledigt!`,error:"Die Karten konnten nicht geladen werden.",learn:"Lernen","no-cards":"Beginne damit, einige Karten zu erstellen!"},home:qo,learning:Go,"manage-cards":{table:{"no-cards-found":"Keine Karten gefunden"},title:"Karten verwalten"},note:Qo,notebook:Yo,settings:Zo,sidebar:Jo,spotlight:Xo,statistics:es,today:ts},os={"delete-modal":{description:"You are about to delete this card. This cannot be undone. Do you wish to continue?",title:"Delete Card"},menu:{debug:"Debug",delete:"Delete",edit:"Edit",move:"Move",options:"Options",statistics:"Statistics"}},ss={"add-cards":"Add Cards","add-cards-tooltip":"Add Cards to this Deck","create-deck-tooltip":"Click to create a new deck","error-failed-to-load":"This card failed to load","learning-cards-label":"Learning","learning-cards-label_one":"1 Learning","learning-cards-label_other":"{{ count }} Learning",menu:{debug:"Debug",delete:"Delete","import-cards":"Import Cards",label:"Menu","manage-cards":"Manage Cards",move:"Move",options:"Options",rename:"Rename"},"new-cards-label":"New","new-cards-label_one":"1 New","new-cards-label_other":"{{ count }} New","new-deck-button":"New Deck","new-deck-modal":{description:"Description","description-placeholder":"Optional",name:"Name","name-placeholder":"for example 'Spanish', 'Anatomy' or 'History","new-deck":"Create New Deck","new-subdeck":"Create New Subdeck in {{superDeck}}",submit:"Create"},"no-decks-found":"There are no decks here. Click the button above to create one!",notebook:{title:"Notebook"},rename:{"new-name":"New Name","rename-button":"Rename",title:'Rename "{{deckName}}"'},"review-cards-label":"Review","review-cards-label_one":"1 Review","review-cards-label_other":"{{ count }} Review",settings:"Settings",subdeck:{"add-subdeck-button":"Add","load-fail":"Failed to load sub decks.",title:"Subdecks"}},as={cancel:"Cancel","feature-status":{"in-development":" (In Development)",new:" (New)",planned:" (Planned)"},"no-items-title":"It is looking empty here!"},rs={"create-deck":"Create a deck","no-decks-found":"You have not created any decks yet.",title:"Home",welcome:"Welcome!","welcome-user":"Welcome back, {{name}}!"},is={"finished-accuracy-ratio":"Accuracy","finished-button-home":"Go Home","finished-button-to-deck":"Back to Deck","finished-congrats":"Congratulations!","finished-congrats-name":"Congratulations, {{name}}!","finished-duration":"Time","finished-info":"You have finished all cards of this deck for today.","finished-repetions-count":"Repetitions"},ls={"delete-modal":{description:"You are about to delete this note. This cannot be undone.",title:"Delete Note"},edit:{"see-history-button":"See History","see-history-tooltip":"Show history of last created cards","submit-button":"Save Card","submit-button-tooltip":"Save Card",title:"Edit Note","type-specific":{"double-sided":{back:"Back",front:"Front"},normal:{back:"Back",front:"Front"}}},menu:{delete:"Delete",edit:"Edit",move:"Move"},new:{"adding-to-deck":'Adding to "{{deckName}}"',"select-note-type":{label:"Card Type",tooltip:"Choose the type of card you want to create"},"submit-button":"Add Card","submit-button-tooltip":"Add Card",title:"New Cards"},type:{cloze:"Cloze","image-occlusion":"Image Occlusion",normal:"Normal",undefined:"Undefined"},"type-double-sided":"Double Sided"},cs={"individual-show-answer-toggle-tooltip":"Click to Show Answer",options:{"exclude-subdecks":"Exclude subdecks",menu:"Notebook menu","show-answer":"Show Answers"}},ds={about:{description:"This program was made by a student from Germany studying medicine. Skola is in early development. You may encounter bugs. If you do, I'd be very pleased if you reported them on the git repository.",title:"About"},appearance:{"color-scheme":"Color Scheme","color-scheme-auto":"System","color-scheme-dark":"Dark","color-scheme-description":"Choose between always light or dark theme or use the color theme of your system.","color-scheme-light":"Light",title:"Appearance"},database:{"storage-used":"used",title:"Database"},developer:{description:"This is the developer tab. It will contain extra settings for developers.",title:"Developer"},editing:{"editor-options":"Editor","individual-options":"Individual options","markdown-hint":"You can also use keyboard shortcuts and basic markdown syntax to format text.","show-code-option":"Show code option","show-highlight-option":"Show highlight option","show-link-option":"Show options for links","show-list-option":"Show options for lists","show-options-for-subscript-and-superscript":"Show options for subscript and superscript","show-strikethrough-option":"Show strikethrough option",title:"Editing","use-bubble-menu":"Use inline menu","use-toolbar":"Use toolbar","use-toolbar-description":"Always show a toolbar with formatting options above the editor"},"editing-use-bubble-menu-description":"Only show formatting options when text is selected",general:{"enable-developer-mode":"Enable Developer Mode","enable-developer-mode-description":"This will enable additional options for debugging and creating custom plugins and themes.","enable-zen-mode":"Zen Mode","enable-zen-mode-description":"Zen Mode automatically activates full screen mode during learning sessions.",language:"Language","language-description":"Set the language for the user interface.",name:"Name","name-description":"This name will be used to customize the user experience.","show-shortcut-hints":"Show Shortcuts","show-shortcut-hints-description":"Possible keyboard shortcuts will appear in menus etc.",title:"General"},learn:{"enable-visual-feedback":"Enable Visual Feedback","enable-visual-feedback-description":"Show a short color flash after answering a card depending on your rating.",maximumInterval:"Maxium interval",maximumIntervalDescription:"The maximum interval in days between two repetitions of a card",newToReviewRatio:"New Cards Per Reviews",newToReviewRatioDescription:"This determines how many new cards will be new cards will be shown per review on average. A value of 0.5 means that reviews and new cards will be ordered in equal amounts.",requestRetention:"Requested retention",requestRetentionDescription:"Set which percentage of questions you want to be able to remember in the long-term. Note: High values will lead to more reviews and shorter intervals. Lower percentages will generally reduce the amount of learning. If requested retention is too low, you will forget your cards too often which may result in an increased learning demand. Recommended values lie between 0.70 and 0.95.",title:"Learning"},title:"Settings"},us={"decks-add":"Add deck","decks-title":"Decks"},ms={"no-results":"No results"},ps={title:"Statistics"},hs={title:"Today"},gs={card:os,deck:ss,"edit-card":{"edit-note":"Edit note"},global:as,"hero-deck-section":{"all-cards-done-learn-anyway":"Learn anyway","all-cards-done-subtitle":"Return back tomorrow or choose to learn anyway.","all-cards-done-title":"Congratulations! This deck is done for today!",error:"Failed to load cards.",learn:"Learn","no-cards":"Start by creating some cards!"},home:rs,learning:is,"manage-cards":{table:{"no-cards-found":"No Cards Found"},title:"Manage Cards"},"new-card":{add:"Add card","add-to-deck":"Adding cards to","card-type":"Card Type"},note:ls,notebook:cs,settings:ds,sidebar:us,spotlight:ms,statistics:ps,today:hs},fs={menu:{debug:"Debug",edit:"Redigera",move:"Flytta"}},bs={"add-cards":"Lägg till kort","add-cards-tooltip":"Lägg till kort till denna kortlek","create-deck-tooltip":"Klicka här för att skapa en ny kortlek","learning-cards-label":"Plugga","learning-cards-label_one":"","learning-cards-label_other":"",menu:{debug:"Debug",delete:"Radera","import-cards":"Importera kort","manage-cards":"Hantera kort",move:"Flytta",options:"",rename:"Döp om"},"new-cards-label":"Nya","new-cards-label_one":"","new-cards-label_other":"","new-deck-button":"","new-deck-modal":{description:"Beskrivning",name:"Namn","name-placeholder":'till exempel "Spanska", "Anatomi" eller "Historik"',"new-subdeck":"Skapa nytt underdäck i {{superDeck}}",submit:"Skapa"},notebook:{title:"Anteckningsbok"},rename:{"new-name":"","rename-button":"",title:""},"review-cards-label":"Repetera","review-cards-label_one":"","review-cards-label_other":"",settings:"",subdeck:{"add-subdeck-button":"","load-fail":"",title:""}},ws={cancel:"Avbryt","feature-status":{"in-development":" (Under utveckling)",new:" (Ny)",planned:" (Planerad)"}},ks={title:"Hem",welcome:"Welcome!","welcome-user":"Welcome back, {{name}}!"},xs={"finished-accuracy-ratio":"","finished-button-home":"","finished-button-to-deck":"","finished-congrats":"","finished-congrats-name":"","finished-duration":"","finished-info":"","finished-repetions-count":""},ys={edit:{"submit-button":"Spara kort","submit-button-tooltip":"Spara ändringar",title:"Redigera anteckning","type-specific":{"double-sided":{back:"Baksida",front:"Framsida"},normal:{back:"Baksida",front:"Framsida"}}},menu:{edit:"Redigera",move:"Flytta"},new:{"select-note-type":{label:"Korttyp",tooltip:"Välj den typ av kort du vill skapa."},"submit-button":"Lägg till kort","submit-button-tooltip":"Lägg till kort",title:"Nya kort"},type:{cloze:"Cloze","image-occlusion":"Bildocklusion",normal:"Vanligt",undefined:"Odefinierad"},"type-double-sided":"Dubbelsidig"},vs={about:{description:"",title:"Om Skola"},appearance:{"color-scheme":"Färgschema","color-scheme-auto":"","color-scheme-dark":"","color-scheme-description":"Välj mellan alltid ljust eller mörkt tema eller använd färgtemat för ditt system.","color-scheme-light":"",title:"Utseende"},database:{"storage-used":"",title:"Databas"},developer:{description:"",title:"Utvecklare"},editing:{"editor-options":"","individual-options":"","markdown-hint":"Du kan också använda kortkommandon och grundläggande markdown-syntax för att formatera text.","show-code-option":"","show-highlight-option":"","show-link-option":"","show-list-option":"","show-options-for-subscript-and-superscript":"","show-strikethrough-option":"",title:"Redigering","use-bubble-menu":"","use-toolbar":"","use-toolbar-description":""},"editing-use-bubble-menu-description":"",general:{"enable-developer-mode":"Aktivera utvecklarläge","enable-developer-mode-description":"Visa utvecklarverktyg för att inspektera webbsidor och aktivera utvecklarverktyg i appen.","enable-zen-mode":"","enable-zen-mode-description":"",language:"Språk","language-description":"Språk som används i gränssnittet.",name:"Namn","name-description":"This name will be used to customize the user experience.","show-shortcut-hints-description":"Möjliga kortkommandon kommer att visas i menyer etc.",title:"General"},learn:{maximumInterval:"",requestRetention:"",title:"Lära"},title:"Inställningar"},js={"decks-add":"","decks-title":""},_s={"no-results":"Inga resultater"},Ss={title:"Statistik"},Cs={title:"Idag"},Ns={card:fs,deck:bs,global:ws,"hero-deck-section":{error:"","no-cards-title":""},home:ks,learning:xs,"manage-cards":{title:"Hantera kort"},note:ys,settings:vs,sidebar:js,spotlight:_s,statistics:Ss,today:Cs},Is={"delete-modal":{description:"Você está prestes a apagar esta carta. Isso não pode ser desfeito. Você quer continuar?",title:"Apagar Carta"},menu:{debug:"Debug",delete:"Apagar",edit:"Editar",move:"Mover",options:"Opções",statistics:"Estatísticas"}},zs={"add-cards":"Adicionar Cartas","add-cards-tooltip":"Adicionar Cartas para esse Deck","create-deck-tooltip":"Clique para criar um novo Deck","error-failed-to-load":"Essa carta falhou ao carregar","learning-cards-label":"Aprendendo","learning-cards-label_one":"1 Aprendendo","learning-cards-label_other":"{{ count }} Aprendendo",menu:{debug:"Debug",delete:"Apagar","import-cards":"Importar Cartas",label:"Menu","manage-cards":"Gerenciar Cartas",move:"Mover",options:"Opções",rename:"Renomear"},"new-cards-label":"Novo","new-cards-label_one":"1 Novo","new-cards-label_other":"{{ count }} Novo","new-deck-button":"Novo Deck","new-deck-modal":{description:"Descrição","description-placeholder":"Opcional",name:"Nome","name-placeholder":"Por exemplo 'Espanhol', 'Anatomia' ou 'História","new-deck":"Criar Novo Deck","new-subdeck":"Criar Novo Subdeck {{superDeck}}",submit:"Criar"},"no-decks-found":"Não há novos decks aqui. Clique no botão acima para criar um!",notebook:{title:"Caderno"},rename:{"new-name":"Novo Nome","rename-button":"Renomear",title:'Renomear "{{deckName}}"'},"review-cards-label":"Revisar","review-cards-label_one":"1 Revisar","review-cards-label_other":"{{ count }} Revisar",settings:"Configurações",subdeck:{"add-subdeck-button":"Adicionar","load-fail":"Falha ao carregar sub decks.",title:"Subdecks"}},Ds={cancel:"Cancelar","feature-status":{"in-development":" (Em Desenvolvimento)",new:" (Novo)",planned:" (Planejado)"},"no-items-title":"Parece que está vazio aqui!"},Es={"create-deck":"Criar um deck","no-decks-found":"Você não criou nenhum deck ainda.",title:"Início",welcome:"Bem-vindo!","welcome-user":"Bem-vindo de volta, {{name}}!"},As={"finished-accuracy-ratio":"Precisão","finished-button-home":"Ir para o Início","finished-button-to-deck":"Voltar para o Deck","finished-congrats":"Parabéns!","finished-congrats-name":"Parabéns, {{name}}!","finished-duration":"Tempo","finished-info":"Você finalizou todos os cartões por hoje.","finished-repetions-count":"Repetições"},Ts={"delete-modal":{description:"Você está prestes a apagar essa anotação. Isso não pode ser desfeito.",title:"Apagar Anotação"},edit:{"see-history-button":"Ver Histórico","see-history-tooltip":"Mostrar histórico das ultimas cartas criadas","submit-button":"Salvar Carta","submit-button-tooltip":"Salvar Carta",title:"Editar Anotação","type-specific":{"double-sided":{back:"Verso",front:"Frente"},normal:{back:"Verso",front:"Frente"}}},menu:{delete:"Apagar",edit:"Editar",move:"Mover"},new:{"adding-to-deck":'Adicionando a/ao "{{deckName}}"',"select-note-type":{label:"Tipo de Carta",tooltip:"Escolha o tipo de carta que você quer criar"},"submit-button":"Adicionar Carta","submit-button-tooltip":"Adicionar Carta",title:"Novas Cartas"},type:{cloze:"Lacuna","image-occlusion":"Oclusão de Imagem",normal:"Normal",undefined:"Indefinido"},"type-double-sided":"Face Dupla"},Ms={"individual-show-answer-toggle-tooltip":"Clique Para Mostrar a Resposta",options:{"exclude-subdecks":"Excluir subdecks",menu:"Menu do caderno","show-answer":"Mostrar respostas"}},Ls={about:{description:"Este programa foi feito por um estudante de medicina da Alemanha. Skola está em desenvolvimento inicial. Você poderá encontrar bugs. Cado encontre, Eu ficaria muito agradecido se você os reportasse no repositório no git.",title:"Sobre"},appearance:{"color-scheme":"Esquema de Cores","color-scheme-auto":"Sistema","color-scheme-dark":"Escuro","color-scheme-description":"Escolha entre o tema sempre claro ou escuro ou use o tema do seu sistema.","color-scheme-light":"Claro",title:"Aparência"},database:{"storage-used":"usado",title:"Banco de dados"},developer:{description:"Esta é a aba de desenvolvedor. Ela irá conter configurações extras para desenvolvedores.",title:"Desenvolvedor"},editing:{"editor-options":"Editor","individual-options":"Opções individuais","markdown-hint":"Você também pode usar os atalhos do teclas e markdown básico para formatar o texto.","show-code-option":"Mostrar opção de código","show-highlight-option":"Mostrar opção de destaque","show-link-option":"Mostrar opções para links","show-list-option":"Mostrar opções para lists","show-options-for-subscript-and-superscript":"Mostrar opções para subscrito e sobrescrito","show-strikethrough-option":"Mostrar opção tachada",title:"Editando","use-bubble-menu":"Usar menu embutido","use-toolbar":"Usar barra de ferramentas","use-toolbar-description":"Sempre mostrar uma barra de ferramentas com opções de formatação acima do editor"},"editing-use-bubble-menu-description":"Mostrar opções de formatação somente quando o texto for selecionado",general:{"enable-developer-mode":"Habilitar Modo Desenvolvedor","enable-developer-mode-description":"Isso habilitará opções adicionais para depuração e criação de plugins e temas personalizados.","enable-zen-mode":"Modo Zen","enable-zen-mode-description":"O Modo Zen ativa automaticamente o modo de tela cheia durante as sessões de aprendizado.",language:"Linguágem","language-description":"Defina o idioma da interface do usuário.",name:"Nome","name-description":"Este nome será usado para personalizar a experiência do usuário.","show-shortcut-hints":"Mostrar Atalhos","show-shortcut-hints-description":"Possíveis atalhos de teclado aparecerão em menus etc.",title:"Geral"},learn:{"enable-visual-feedback":"Habilitar Feedback Visual","enable-visual-feedback-description":"Mostrar um breve flash colorido após responder uma carta, dependendo da sua classificação.",maximumInterval:"Intervalo Máximo",maximumIntervalDescription:"O intervalo máximo em dias entre duas repetições de um cartão",newToReviewRatio:"Novas Cartas Por Revisão",newToReviewRatioDescription:"Isso determina quantas novas cartas serão exibidas por revisão, em média. Um valor de 0,5 significa que revisões e novas cartas serão pedidas em quantidades iguais.",requestRetention:"Retencão pedida",requestRetentionDescription:"Defina a porcentagem de perguntas que você deseja memorizar a longo prazo. Observação: Valores altos resultarão em mais revisões e intervalos mais curtos. Porcentagens mais baixas geralmente reduzem a quantidade de aprendizado. Se a retenção solicitada for muito baixa, você esquecerá suas cartas com muita frequência, o que pode resultar em um aumento na demanda de aprendizado. Os valores recomendados ficam entre 0,70 e 0,95.",title:"Apredizado"},title:"Configurações"},Bs={"decks-add":"Adicionar deck","decks-title":"Decks"},Os={"no-results":"Sem resultados"},Fs={title:"Estatísticas"},Rs={title:"Hoje"},$s={card:Is,deck:zs,"edit-card":{"edit-note":"Editar anotação"},global:Ds,"hero-deck-section":{"all-cards-done-learn-anyway":"Aprender mesmo assim","all-cards-done-subtitle":"Retorne amanhã ou escolha aprender mesmo assim.","all-cards-done-title":"Parabéns! Esse deck foi finalizado por hoje!",error:"Falha ao carregar cartas.",learn:"Aprender","no-cards":"Comece criando algumas cartas!"},home:Es,learning:As,"manage-cards":{table:{"no-cards-found":"Nenhuma carta encontrada"},title:"Gerenciar Cartas"},"new-card":{add:"Adicionar carta","add-to-deck":"Adicionando carta a","card-type":"Tipo de Carta"},note:Ts,notebook:Ms,settings:Ls,sidebar:Bs,spotlight:Os,statistics:Fs,today:Rs},Ps={en:{translation:gs},de:{translation:ns},sv:{translation:Ns},pt:{translation:$s}};z.use(zt).init({resources:Ps,lng:"de",fallbackLng:"de",interpolation:{escapeValue:!1}});const lr={get[p.Basic](){return z.t("note.type.normal")},get[p.Cloze](){return z.t("note.type.cloze")},get[p.ImageOcclusion](){return z.t("note.type.image-occlusion")},get[p.DoubleSided](){return z.t("note.type-double-sided")},get[p.Undefined](){return z.t("note.type.undefined")}};function ce(e){return e.replace(/<[^>]*>/g,"").slice(0,100)}function Ee(){return{id:Ce(),history:[],deck:"[preview not set]",model:new tn,creationDate:new Date(Date.now())}}async function Ae(e){return c.transaction("rw",c.decks,c.cards,()=>{c.cards.delete(e.id),c.decks.get(e.deck).then(n=>{n!=null&&n.id&&c.decks.update(n.id,{cards:n.cards.filter(o=>o!==e.id)})})})}async function ee(e,n){return e.deck=n.id,n.cards.push(e.id),await c.transaction("rw",c.decks,c.cards,()=>{c.cards.add(e,e.id),c.decks.update(n.id,{cards:n.cards})}),e.id}async function Hs(e){return c.notes.get(e)}function Vs(e){return{deck:e,creationDate:new Date(Date.now()),id:Ce()}}async function Te(e,n){console.log("creating new note"),console.log(L(n.type).getSortFieldFromNoteContent(n));const o={...Vs(e.id),content:n,sortField:L(n.type).getSortFieldFromNoteContent(n)};return await c.transaction("rw",c.decks,c.notes,async()=>{await c.notes.add(o,o.id),e.notes.push(o.id),await c.decks.update(e.id,{notes:e.notes})}),o.id}function te(e,n){return c.notes.update(e,{content:n,sortField:L(n.type).getSortFieldFromNoteContent(n)})}const Ws="_clozeField_1ljqw_1",Ks="_active_1ljqw_9",Us="_occludable_1ljqw_13",qs="_interactive_1ljqw_18",Gs="_visible_1ljqw_29",T={clozeField:Ws,active:Ks,occludable:Us,interactive:qs,visible:Gs},xe={createNote(e,n){function o(r,s,a){return{...Ee(),note:r,content:{type:p.Cloze,occlusionNumber:s}}}return c.transaction("rw",c.notes,c.decks,c.cards,async()=>{const r=await Te(n,{type:p.Cloze,text:e.text});return await Promise.all(e.occlusionNumberSet.map(async s=>await ee(o(r,s,e.text),n))),r})},updateNote(e,n){return c.transaction("rw",c.notes,c.cards,async()=>{await te(n.id,{type:p.Cloze,text:e.text})})},displayQuestion(e,n){return t.jsx(pe,{content:n,activeCard:e,activeIsVisible:!1,allAreVisible:!0})},displayAnswer(e,n){return t.jsx(pe,{content:n,activeCard:e,activeIsVisible:!0,allAreVisible:!0})},displayNote(e,n){return t.jsx(pe,{content:e.content,allAreVisible:n==="strict"?!0:void 0})},getSortFieldFromNoteContent(e){return ce(e.text.replace(/\{\{c\d::((?!\{\{|}}).)*\}\}/g,n=>n.slice(6,-2)))},editor({note:e,deck:n,mode:o,requestedFinish:r,setRequestedFinish:s,focusSelectNoteType:a}){return t.jsx(Ho,{note:e,deck:n,mode:o,requestedFinish:r,setRequestedFinish:s,focusSelectNoteType:a})},async deleteCard(e){c.transaction("rw",c.decks,c.cards,c.notes,async()=>{const n=await Hs(e.note).then(o=>o!==void 0?o.content.text:void 0);n!==void 0&&await te(e.note,{type:p.Cloze,text:n.replace(new RegExp(`{{c${e.content.occlusionNumber}::((?!{{|}}).)*}}`,"g"),o=>o.slice(6,-2))}),await Ae(e)})}},pe=m.memo(({activeCard:e,activeIsVisible:n,allAreVisible:o,content:r})=>{var l;let s=(l=r==null?void 0:r.text)!=null?l:"";e&&(s=s.replace(new RegExp(`{{c${e.content.occlusionNumber}::((?!{{|}}).)*}}`,"g"),i=>`<span class="interactive-cloze-field-replace active">${i.slice(6,-2)}</span>`)),s=s.replace(/\{\{c\d::((?!\{\{|}}).)*\}\}/g,i=>`<span class="interactive-cloze-field-replace">${i.slice(6,-2)}</span>`),console.log(s);const a={replace(i){if(i instanceof Be.Element&&i.attribs.class&&i.attribs.class.includes("interactive-cloze-field-replace")){const d=i.attribs.class.endsWith("active");return console.log(d),t.jsx(Qs,{active:d,controlledIsVisible:d?n:o,children:Be.domToReact(i.children,a)})}}};return t.jsx(w,{className:T.clozeCard,children:Dt(s,a)})});function Qs({children:e,controlledIsVisible:n,active:o}){const[r,s]=m.useState(!1);return t.jsx(_e,{className:J({[T.clozeField]:!0,[T.active]:o,[T.interactive]:n===void 0}),onClick:()=>s(!r),children:t.jsx("span",{className:J({[T.occludable]:!0,[T.visible]:n===void 0?r:n}),children:e})})}const Ys="_content_ls9da_1",Zs={content:Ys};function Js({note:e,deck:n,mode:o,requestedFinish:r,setRequestedFinish:s,focusSelectNoteType:a}){var k;const[l]=le();W([["mod+Enter",()=>s(!0)]]);const i=(k=e==null?void 0:e.content)!=null?k:{type:p.DoubleSided,field1:"",field2:""},d=P({content:i.field1,finish:()=>s(!0),focusSelectNoteType:a}),u=P({content:i.field2,finish:()=>s(!0),focusSelectNoteType:a}),g=m.useCallback(()=>{d==null||d.commands.setContent(""),u==null||u.commands.setContent(""),d==null||d.commands.focus()},[d,u]);return m.useEffect(()=>{r&&(Xs(o,g,n,e,d,u),s(!1))},[r,o,g,n,e,d,u]),t.jsxs(h,{gap:"2rem",children:[t.jsxs(h,{gap:0,children:[t.jsx(w,{fz:"sm",fw:600,children:l("note.edit.type-specific.double-sided.front")}),t.jsx(H,{editor:d,className:Zs},"front")]}),t.jsxs(h,{gap:0,children:[t.jsx(w,{fz:"sm",fw:600,children:l("note.edit.type-specific.double-sided.back")}),t.jsx(H,{editor:u},"back")]})]})}async function Xs(e,n,o,r,s,a){var l,i,d,u;if(e==="edit")try{if(!r)throw new Error("Note is null");await oe.updateNote({field1:(l=s==null?void 0:s.getHTML())!=null?l:"",field2:(i=a==null?void 0:a.getHTML())!=null?i:""},r),Ne()}catch{ze()}else try{await oe.createNote({field1:(d=s==null?void 0:s.getHTML())!=null?d:"",field2:(u=a==null?void 0:a.getHTML())!=null?u:""},o),n&&n(),Ie()}catch{De()}}const ea="_lightBorderColor_ji1i7_1",ne={lightBorderColor:ea};async function ta(e,n){function o(r,s,a){return{...Ee(),note:r,preview:ce(a),content:{type:p.DoubleSided,frontIsField1:s}}}return c.transaction("rw",c.notes,c.decks,c.cards,async()=>{const r=await Te(n,{type:p.DoubleSided,field1:e.field1,field2:e.field2});await ee(o(r,!0,e.field1),n),await ee(o(r,!1,e.field2),n)})}async function na(e,n){return c.transaction("rw",c.notes,c.cards,async()=>{await te(n.id,{type:p.DoubleSided,field1:e.field1,field2:e.field2})})}const oe={createNote:ta,updateNote:na,displayQuestion(e,n){function o(){var r;return t.jsx(S,{order:3,fw:600,dangerouslySetInnerHTML:{__html:(r=e.content.frontIsField1?n==null?void 0:n.field1:n==null?void 0:n.field2)!=null?r:"error"}})}return t.jsx(o,{})},displayAnswer(e,n,o){function r(){var s;return t.jsx("span",{dangerouslySetInnerHTML:{__html:(s=e.content.frontIsField1?n==null?void 0:n.field2:n==null?void 0:n.field1)!=null?s:"error"}})}return t.jsxs(h,{gap:o==="notebook"?"sm":"lg",w:"100%",children:[oe.displayQuestion(e,n),t.jsx(Z,{className:ne.lightBorderColor}),t.jsx(r,{})]})},displayNote(e,n){var o,r;return t.jsxs(h,{gap:"sm",w:"100%",children:[t.jsx(S,{order:3,fw:600,dangerouslySetInnerHTML:{__html:(o=e.content.field1)!=null?o:""}}),n!=="none"&&t.jsxs(t.Fragment,{children:[t.jsx(Z,{className:ne.lightBorderColor}),t.jsx("div",{dangerouslySetInnerHTML:{__html:(r=e.content.field2)!=null?r:""}})]})]})},getSortFieldFromNoteContent(e){return ce(e.field1)},editor({note:e,deck:n,mode:o,requestedFinish:r,setRequestedFinish:s,focusSelectNoteType:a}){return t.jsx(Js,{note:e,deck:n,mode:o,requestedFinish:r,setRequestedFinish:s,focusSelectNoteType:a})},async deleteCard(e){c.transaction("rw",c.decks,c.cards,c.notes,async()=>{await Ae(e)})}},oa={createNote(){return console.warn("tried to create note of type image occlusion. Not implemented."),Promise.resolve()},updateNote(){return console.warn("tried to update note of type image occlusion. Not implemented."),Promise.resolve()},displayQuestion(){return"[Image Occlusion Card] Question"},displayAnswer(){return"[Image Occlusion Card] Answer"},displayNote(){return t.jsx("span",{children:"[Image Occlusion Card] Note"})},getSortFieldFromNoteContent(){return"[Image Occlusion Card] Sort Field"},editor(){return t.jsx("span",{children:"Image Occlusion Card Editor"})},deleteCard(){console.warn("tried to delete card of type image occlusion. Not implemented.")}},sa="_front_16bea_1",aa={front:sa};function ra({note:e,deck:n,mode:o,requestedFinish:r,setRequestedFinish:s,focusSelectNoteType:a}){var g;const l=(g=e==null?void 0:e.content)!=null?g:{type:p.Basic,front:"",back:""},i=P({content:l.front,finish:()=>s(!0),focusSelectNoteType:a}),d=P({content:l.back,finish:()=>s(!0),focusSelectNoteType:a}),u=m.useCallback(()=>{i==null||i.commands.setContent(""),d==null||d.commands.setContent(""),i==null||i.commands.focus()},[i,d]);return m.useEffect(()=>{r&&(ia(o,u,n,e,i,d),s(!1))},[r,o,u,n,e,i,d]),t.jsxs(h,{gap:"2rem",children:[t.jsxs(h,{gap:0,children:[t.jsx(w,{fz:"sm",fw:600,children:b("note.edit.type-specific.normal.front")}),t.jsx(H,{editor:i,className:aa.front},"front")]}),t.jsxs(h,{gap:0,children:[t.jsx(w,{fz:"sm",fw:600,children:b("note.edit.type-specific.normal.back")}),t.jsx(H,{editor:d},"back")]})]})}async function ia(e,n,o,r,s,a){var l,i,d,u;if(e==="edit")try{if(r===null)throw new Error("Note is null");await se.updateNote({front:(l=s==null?void 0:s.getHTML())!=null?l:"",back:(i=a==null?void 0:a.getHTML())!=null?i:""},r),Ne()}catch{ze()}else try{await se.createNote({front:(d=s==null?void 0:s.getHTML())!=null?d:"",back:(u=a==null?void 0:a.getHTML())!=null?u:""},o),n&&n(),Ie()}catch{De()}}const se={async createNote(e,n){return c.transaction("rw",c.notes,c.decks,c.cards,async()=>{const o=await Te(n,{type:p.Basic,front:e.front,back:e.back});await ee({...Ee(),note:o,content:{type:p.Basic}},n)})},async updateNote(e,n){return c.transaction("rw",c.notes,c.cards,async()=>{await te(n.id,{type:p.Basic,front:e.front,back:e.back})})},displayQuestion(e,n){var o;return t.jsx(S,{order:3,fw:600,dangerouslySetInnerHTML:{__html:(o=n==null?void 0:n.front)!=null?o:""}})},displayAnswer(e,n,o){var r;return t.jsxs(h,{gap:o==="notebook"?"sm":"lg",w:"100%",children:[se.displayQuestion(e,n),t.jsx(Z,{className:ne.lightBorderColor}),t.jsx("div",{dangerouslySetInnerHTML:{__html:(r=n==null?void 0:n.back)!=null?r:""}})]})},displayNote(e,n){var s,a,l,i;const[o,r]=m.useState(!1);return t.jsxs(h,{gap:"sm",w:"100%",onClick:()=>r(!o),children:[t.jsx(S,{order:3,fw:600,dangerouslySetInnerHTML:{__html:(a=(s=e.content)==null?void 0:s.front)!=null?a:""}}),n!=="none"&&t.jsxs(t.Fragment,{children:[t.jsx(Z,{className:ne.lightBorderColor}),t.jsx("div",{dangerouslySetInnerHTML:{__html:(i=(l=e.content)==null?void 0:l.back)!=null?i:""}})]})]})},getSortFieldFromNoteContent(e){var n;return ce((n=e==null?void 0:e.front)!=null?n:"[error]")},editor({note:e,deck:n,mode:o,requestedFinish:r,setRequestedFinish:s,focusSelectNoteType:a}){return t.jsx(ra,{note:e,deck:n,mode:o,requestedFinish:r,setRequestedFinish:s,focusSelectNoteType:a})},async deleteCard(e){Ae(e)}},la={createNote(){return console.warn("tried to create note of type undefined. Not possible."),Promise.resolve()},updateNote(){return console.warn("tried to update note of type undefined. Not possible."),Promise.resolve()},displayQuestion(){return"[Undefined Card] Question"},displayAnswer(){return"[Undefined Card] Answer"},displayNote(){return t.jsx("span",{children:"[Undefined Card] Note"})},getSortFieldFromNoteContent(){return"[Undefined Card] Sort Field"},editor(){return t.jsx("span",{children:"Undefined Card Editor"})},deleteCard(){console.warn("tried to delete card of type undefined. Not possible.")}};function ae(e){return L(e.content?e.content.type:p.Undefined)}function L(e){return{[p.DoubleSided]:oe,[p.Basic]:se,[p.Cloze]:xe,[p.ImageOcclusion]:oa,[p.Undefined]:la}[e]}async function st(e){return c.decks.get(e)}async function at(e){return c.decks.bulkGet(e)}async function ca(e){var n;if(!e)return[void 0,!1];try{const o=await at((n=e.superDecks)!=null?n:[]);return o.includes(void 0)?[void 0,!0]:[o,!0]}catch{return[void 0,!0]}}function da(e){return B(()=>c.decks.toArray().then(n=>[e?e(n):n,!0]),[],[void 0,!1])}function ua(e,n){return B(()=>e(c.notes).then(o=>[o,o!==void 0]),n,[void 0,!1])}const ma={byCreationDate:e=>(n,o)=>(n.creationDate.getTime()-o.creationDate.getTime())*e,bySortField:e=>(n,o)=>ae(n).getSortFieldFromNoteContent(n.content).localeCompare(ae(o).getSortFieldFromNoteContent(o.content))*e,byCustomOrder:e=>(n,o)=>n.customOrder===void 0||o.customOrder===void 0?0:(n.customOrder-o.customOrder)*Math.abs(e),byType:e=>(n,o)=>n.content.type.localeCompare(o.content.type)*e,byDeckName:e=>(n,o)=>n.deckName.localeCompare(o.deckName)*e};function cr(){const e=K();m.useEffect(()=>{window.scrollTo(0,0)},[e])}function pa(e,n,o=[]){m.useEffect(()=>(window.addEventListener(e,n),()=>{window.removeEventListener(e,n)}),[e,...o])}function de(e){return B(()=>c.settings.get(e).then(n=>{var o;return[(o=n==null?void 0:n.value)!=null?o:X[e],!0]}),[e],[X[e],!1])}function ha(){const[e,n]=m.useState(!1),[o]=de("showShortcutHints");return pa("touchstart",()=>n(!0),[]),!e&&o}const ga=e=>{const[n,o]=m.useState([]),[r]=ua(s=>s.toArray().then(a=>a.filter(l=>ae(l).getSortFieldFromNoteContent(l.content).toLowerCase().includes(e.toLowerCase())).sort(ma.bySortField(1))),[e]);return m.useEffect(()=>{async function s(a){const l=a==null?void 0:a.map(async d=>{const u=await st(d.deck);return[...((await ca(u))[0]||[]).map(k=>k.name),(u==null?void 0:u.name)||"Empty"]}),i=await Promise.all(l);o(a.map((d,u)=>({...d,breadcrumb:i[u]})))}s(r||[])},[r]),n};function fa({minimalMode:e}){const n=O(),o=Et(),r=ha(),[s,a]=At("",250),[l]=da(),i=ga(s),d=[{group:"Decks",actions:[...(l||[]).map(u=>({id:u.id,label:u.name,description:u.description,onClick:()=>n(`/deck/${u.id}`),leftSection:t.jsx(Se,{style:{width:U(24),height:U(24)},stroke:1.5})}))]},{group:"Notes",actions:[...i.map(u=>({id:u.id,label:ae(u).getSortFieldFromNoteContent(u.content),description:u.breadcrumb.join(" > "),onClick:()=>n(`/deck/${u.deck}`),leftSection:t.jsx(Tt,{style:{width:U(24),height:U(24)},stroke:1.5})}))]}];return t.jsxs(t.Fragment,{children:[t.jsx(x,{justify:"space-between",children:t.jsx(_e,{onClick:Mt.open,className:J({[I.spotlightButton]:!0,[I.minimalMode]:e}),variant:"default",w:"100%",c:"dimmed",children:e?t.jsx(ue,{size:14,className:I.spotlightButtonIcon}):t.jsxs(t.Fragment,{children:[t.jsxs("span",{className:I.spotlightButtonSection,children:[t.jsx(ue,{size:14,className:I.spotlightButtonIcon}),"Search"]}),r&&t.jsxs("span",{className:I.spotlightButtonSection,children:[t.jsx(Y,{c:"dimmed",size:"xs",children:o==="macos"?"⌘":"Ctrl"})," ","+"," ",t.jsx(Y,{c:"dimmed",size:"xs",children:"K"})]})]})})}),t.jsx(We,{className:I.spotlight,actions:d,closeOnClickOutside:!0,nothingFound:b("spotlight.no-results"),highlightQuery:!0,onQueryChange:a,limit:10,scrollable:!0,searchProps:{leftSection:t.jsx(ue,{size:18,stroke:2}),placeholder:"Search..."},transitionProps:{transition:"pop",duration:100}})]})}function ba({minimalMode:e}){m.useEffect(()=>{et()},[]);const n=Ge(c.cloud.currentUser),o=m.useCallback(async()=>{try{await c.cloud.login()}catch(r){if((r==null?void 0:r.name)==="AbortError")return;j.show({message:t.jsx("span",{children:r==null?void 0:r.message}),color:"red"})}},[]);return!e&&t.jsx(Lt,{component:"section",p:"md",children:t.jsxs(h,{gap:"sm",children:[t.jsx($,{color:"red",children:"Experimental"}),n!=null&&n.isLoggedIn?t.jsxs(t.Fragment,{children:[t.jsxs(w,{size:"xs",c:"gray",children:["Logged in as ",t.jsx("strong",{children:n.email})]}),t.jsx(v,{onClick:()=>c.cloud.logout(),children:"Logout"})]}):t.jsx(v,{onClick:o,children:"Login with OTP"})]})})}async function rt(e,n,o){const r=Ce();let s;if(n){n.superDecks?s=[...n.superDecks,n.id]:s=[n.id];const a=await c.decks.get(n.id);if(a)await c.decks.update(n.id,{...a,subDecks:[...(a==null?void 0:a.subDecks)||{},r]});else throw Error("Super deck not found")}return await c.decks.add({name:e,id:r,cards:[],notes:[],subDecks:[],superDecks:s,description:o,options:{newToReviewRatio:.5,dailyNewCards:25}}),r}function it({opened:e,setOpened:n,superDeck:o}){const r=O(),[s,a]=m.useState(""),[l,i]=m.useState(""),[d,u]=m.useState(!1),[g,k]=m.useState(null);async function _(){if(D()){u(!0);try{const E=await rt(s,o,l);a(""),n(!1),r("/deck/"+E)}catch(E){k("Failed to add deck: "+E)}u(!1),a(""),i("")}}return W([["mod+Enter",()=>_()]]),t.jsx(je,{opened:e,onClose:()=>n(!1),withCloseButton:!1,title:o?b("deck.new-deck-modal.new-subdeck",{superDeck:o.name}):b("deck.new-deck-modal.new-deck"),children:t.jsxs(h,{justify:"space-between",children:[t.jsx(be,{placeholder:b("deck.new-deck-modal.name-placeholder"),"data-autofocus":!0,label:b("deck.new-deck-modal.name"),value:s,onChange:E=>a(E.currentTarget.value),onKeyDown:Oe([["mod+Enter",()=>_()]])}),t.jsx(be,{placeholder:b("deck.new-deck-modal.description-placeholder"),"data-autofocus":!0,label:b("deck.new-deck-modal.description"),value:l,onChange:E=>i(E.currentTarget.value),onKeyDown:Oe([["mod+Enter",()=>_()]])}),g?t.jsx(w,{children:g}):t.jsx(t.Fragment,{}),t.jsxs(x,{justify:"flex-end",gap:"sm",children:[t.jsx(v,{variant:"default",onClick:()=>{n(!1)},children:b("global.cancel")}),t.jsx(v,{disabled:!D(),loading:d,onClick:()=>{_()},children:b("deck.new-deck-modal.submit")})]})]})});function D(){return s.trim()!==""}}function lt(){return B(async()=>[await c.decks.toArray(),!0],[],[void 0,!1])}async function wa(e){if(!e)return[void 0,!1];try{const n=await at(e.subDecks);return n.includes(void 0)?[void 0,!0]:[n,!0]}catch{return[void 0,!0]}}function ka(e){const[n,o]=m.useState([void 0,!1]);return m.useEffect(()=>{o([void 0,!1]),wa(e).then(r=>o(r))},[e]),n}function ct({deck:e}){const[n,o]=m.useState(!1),[r,s]=ka(e),a=O(),l=K(),i=e.subDecks.length>0;if(!(!s||!r))return t.jsx(re,{label:e.name,leftSection:t.jsx(Se,{size:"1rem",stroke:1.5}),childrenOffset:"sm",active:l.pathname===`/deck/${e.id}`,opened:n,onClick:()=>{a(`/deck/${e.id}`)},variant:"subtle",rightSection:i&&t.jsx(Je,{onClick:d=>{d.stopPropagation(),o(!n)},stroke:1.5,className:"mantine-rotate-rtl"}),children:i&&r.map(d=>t.jsx(ct,{deck:d},d.id))})}function xa({minimalMode:e}){const n=Xe(),[o,r]=lt(),s=G("(min-width: "+n.breakpoints.sm+")"),[a,l]=m.useState(!1);return s&&!e&&t.jsxs(t.Fragment,{children:[t.jsx(w,{c:"dimmed",p:"xs",pt:"md",fz:"sm",children:b("sidebar.decks-title")}),r&&(o==null?void 0:o.map(i=>t.jsx(ct,{deck:i},i.id))),t.jsx(re,{label:t.jsx(w,{c:"dimmed",fz:"xs",children:b("sidebar.decks-add")}),onClick:()=>l(!0),leftSection:t.jsx(we,{size:"1rem",color:"gray"})}),t.jsx(it,{opened:a,setOpened:l})]})}const F=({label:e,path:n,icon:o,minimalMode:r,fullscreenMode:s,closeMenu:a})=>{const l=O(),i=K();return t.jsx(ve,{label:e,disabled:!r||s,position:"right",keepMounted:!1,children:t.jsx(re,{classNames:{root:y.sidebarItem,body:y.sidebarItemBody,label:y.sidebarItemLabel,section:y.sidebarItemIcon},variant:"filled",label:e,leftSection:o,onClick:()=>{l(n),s&&a()},active:i.pathname.startsWith(n)})})};function ya({menuOpened:e,menuHandlers:n}){const o=Xe(),r=K().pathname.includes("learn"),s=!!G("(max-width: "+o.breakpoints.xs+")")||r,a=!!G("(max-width: "+o.breakpoints.lg+") and (min-width: "+o.breakpoints.xs+")"),l=G("(orientation: landscape)");return t.jsx(Qe,{p:"0.5rem",className:J(y.sidebar,a&&y.minimalMode,l&&y.landscapeMode,s&&y.fullscreenMode,s&&e&&y.fullscreenModeOpened),children:t.jsxs(h,{justify:"space-between",h:"100%",children:[t.jsxs(h,{gap:"xs",children:[t.jsxs(x,{className:y.topRow,children:[t.jsxs(x,{gap:"xs",align:"center",children:[t.jsx(fe,{src:"/logo.svg",alt:"Skola Logo",maw:"1.5rem"}),t.jsx(S,{order:5,children:"Skola"})]}),s?t.jsx(Ke,{onClick:n.close,style:{alignSelf:"end"},variant:"subtle",children:t.jsx(V,{})}):null]}),t.jsx(fa,{minimalMode:a}),t.jsxs(h,{gap:0,children:[t.jsx(F,{label:b("home.title"),path:"/home",icon:t.jsx(Bt,{}),minimalMode:a,fullscreenMode:s,closeMenu:n.close}),t.jsx(F,{label:b("today.title"),path:"/today",icon:t.jsx(Ot,{}),minimalMode:a,fullscreenMode:s,closeMenu:n.close}),t.jsx(F,{label:b("statistics.title"),path:"/stats",icon:t.jsx(Ft,{}),minimalMode:a,fullscreenMode:s,closeMenu:n.close}),t.jsx(F,{label:b("manage-cards.title"),path:"/notes",icon:t.jsx(Se,{}),minimalMode:a,fullscreenMode:s,closeMenu:n.close}),t.jsx(F,{label:b("settings.title"),path:"/settings",icon:t.jsx(Rt,{}),minimalMode:a,fullscreenMode:s,closeMenu:n.close})]}),t.jsx(xa,{minimalMode:a})]}),t.jsx(ba,{minimalMode:a})]})})}const ye="system-design.v1",Q="skola_seeding_lock";async function va(){return sessionStorage.getItem(Q)==="true"?!0:(await c.decks.toArray()).some(o=>{var r;return(r=o.description)==null?void 0:r.includes(ye)})}function ja(e,n){let o=e,r=1;const s=Object.entries(n).sort(([a],[l])=>a.localeCompare(l));for(const[a,l]of s){const i=`{{c${r}::${l}}}`;o=o.replace(new RegExp(`\\[${a}\\]`,"g"),i),r++}return o}async function _a(){try{if(await va()){console.log("System design deck already seeded, skipping...");return}sessionStorage.setItem(Q,"true");const e=await fetch("/decks/system-design.v1.json");if(!e.ok)throw new Error(`Failed to fetch deck: ${e.statusText}`);const n=await e.json();for(const o of n.decks){if((await c.decks.toArray()).some(i=>{var d;return i.name===o.name&&((d=i.description)==null?void 0:d.includes(ye))})){console.log(`Deck "${o.name}" already exists, skipping...`);continue}const a=await rt(o.name,void 0,`${o.description}

[${ye}]`),l=await st(a);if(!l)throw new Error(`Failed to create deck: ${o.name}`);for(const i of o.cards)if(i.type==="basic")i.prompt&&i.answer&&await L(p.Basic).createNote({front:i.prompt,back:i.answer},l);else if(i.type==="cloze"&&i.text&&i.blanks){const d=ja(i.text,i.blanks),u=d.matchAll(/\{\{c(\d+)::/g),g=Array.from(u,k=>parseInt(k[1],10));await L(p.Cloze).createNote({text:d,occlusionNumberSet:g},l)}}console.log("Successfully seeded system design deck"),sessionStorage.removeItem(Q)}catch(e){console.error("Error seeding system design deck:",e),sessionStorage.removeItem(Q)}}function Sa(){const[e]=de("language");return m.useEffect(()=>{z.changeLanguage(e)},[e]),e}function Ca(){const[e]=de("colorSchemePreference");Sa();const[n,o]=$t(!1),[r]=Ue({key:"registered",defaultValue:!1}),s=K().pathname.includes("learn"),a=m.useRef(!1);return m.useEffect(()=>{s?o.close():o.open()},[s]),m.useEffect(()=>{a.current||(a.current=!0,_a())},[]),t.jsx(Pt,{i18n:z,children:t.jsxs(Ht,{defaultColorScheme:e,cssVariablesResolver:io,theme:ro,children:[t.jsx(Vt,{transitionDuration:400,containerWidth:"20rem",position:"bottom-center",autoClose:2e3,limit:1}),r?t.jsxs(M,{layout:"alt",navbar:{width:{xs:"3.5rem",lg:300},breakpoint:"xs",collapsed:{mobile:!n,desktop:!n}},header:{height:60},children:[t.jsx(fo,{menuOpened:n,menuHandlers:o}),t.jsx(M.Navbar,{children:t.jsx(ya,{menuOpened:n,menuHandlers:o})}),t.jsx(M.Main,{children:t.jsx(h,{h:"100%",children:t.jsx(ie,{className:wn.main,p:"md",h:"100%",mih:0,children:t.jsx(Wt,{})})})}),t.jsx(uo,{})]}):t.jsx(lo,{})]})})}function Na({icon:e,description:n,title:o,p:r,hideTitle:s}){return t.jsxs(h,{gap:"0",align:"center",p:r,children:[t.jsx(Ve,{variant:"white",c:"dimmed",size:"lg",mb:"xs",children:t.jsx(e,{size:60})}),s||t.jsx(w,{fz:"md",fw:500,children:o||b("global.no-items-title")}),t.jsx(w,{fz:"sm",c:"dimmed",children:n})]})}function he({w:e,h:n}){const[o,r]=m.useState(!1);return m.useEffect(()=>{setTimeout(()=>{r(!0)},200)}),t.jsx(Kt,{visible:o,w:e,h:n})}const Ia="_listButton_1b24e_1",za="_rightArrow_1b24e_31",Pe={listButton:Ia,rightArrow:za};function Da({children:e,onClick:n,onContextMenu:o}){return t.jsx(_e,{onClick:n,onContextMenu:o,component:"button",className:Pe.listButton,children:t.jsxs(x,{gap:"apart",wrap:"nowrap",children:[e,t.jsx(Je,{className:Pe.rightArrow})]})})}async function dt(e,n){if(!e)return;let o=(await c.cards.bulkGet(e.cards)).filter(r=>r!==void 0);return await Promise.all(e.subDecks.map(r=>c.decks.get(r).then(s=>{if(s)return dt(s)}).then(s=>{s&&(o=o.concat(s))}))),o}function Ea(e,n){return B(()=>dt(e).then(o=>[o,e!==void 0]),[e,n],[void 0,!1])}function Aa(e){const n={new:0,learning:0,review:0,notDue:0};return e==null||e.forEach(o=>{o.model.state===q.New?n.new++:o.model.state===q.Learning||o.model.state===q.Relearning?n.learning++:o.model.state===q.Review&&o.model.due<=new Date(Date.now())?n.review++:n.notDue++}),n}function Ta(e){return m.useMemo(()=>Aa(e),[e])}const Ma="_root_moqve_1",La="_label_moqve_7",ge={root:Ma,label:La};function Ba({deck:e,i:n}){const o=O(),[r]=le(),[s]=Ea(e),a=Ta(s);return t.jsx(Da,{i:n,onClick:()=>{o("/deck/"+e.id)},children:e?t.jsxs(x,{justify:"space-between",w:"100%",wrap:"nowrap",children:[t.jsx(w,{children:e.name}),t.jsxs(x,{gap:"xs",wrap:"nowrap",children:[a.review>0?t.jsx($,{variant:"light",color:"blue",classNames:ge,children:r("deck.review-cards-label",{count:a.review})}):t.jsx(t.Fragment,{}),a.new>0?t.jsx($,{variant:"light",color:"grape",classNames:ge,children:r("deck.new-cards-label",{count:a.new})}):t.jsx(t.Fragment,{}),a.learning>0?t.jsx($,{variant:"light",color:"orange",classNames:ge,children:r("deck.learning-cards-label",{count:a.learning})}):t.jsx(t.Fragment,{})]})]}):t.jsx(qe,{title:"Error",color:"red",variant:"filled",children:r("deck.error-failed-to-load")})})}function Oa({deckList:e,isReady:n}){var s;const[o]=le(),r=O();return W((s=e==null?void 0:e.slice(0,9).map((a,l)=>[(l+1).toString(),()=>r(`/deck/${a.id}`)]))!=null?s:[]),n&&e?e.length!==0?t.jsx(h,{gap:"0",w:"100%",children:e.sort((a,l)=>a.name.localeCompare(l.name)).map((a,l)=>t.jsx(Ba,{deck:a,i:l},a.id))}):t.jsx(w,{fz:"sm",c:"dimmed",pt:"lg",ta:"center",children:o("deck.no-decks-found")}):t.jsx(Fa,{})}function Fa(){return t.jsx(t.Fragment,{children:t.jsxs(h,{gap:"xs",children:[t.jsx(he,{h:"48px"},1),t.jsx(he,{h:"48px"},2),t.jsx(he,{h:"48px"},3)]})})}function Ra({}){const[e]=le(),[n,o]=m.useState(!1),[r,s]=lt(),[a]=de("name");return W([["n",()=>o(!0)]]),t.jsxs(t.Fragment,{children:[t.jsx(go,{children:t.jsx(ie,{children:t.jsx(S,{order:3,children:a?e("home.welcome-user",{name:a}):e("home.welcome")})})}),s&&(r==null?void 0:r.length)===0?t.jsxs(h,{align:"center",p:"xl",gap:"xl",children:[t.jsx(Na,{icon:Ut,description:e("home.no-decks-found")}),t.jsx(v,{onClick:()=>o(!0),leftSection:t.jsx(we,{}),variant:"primary",autoFocus:!0,children:e("deck.new-deck-button")})]}):t.jsxs(h,{gap:"xs",w:"600px",maw:"100%",align:"flex-end",pt:"xl",children:[t.jsx(ve,{label:t.jsxs(t.Fragment,{children:[e("deck.create-deck-tooltip"),t.jsx(Y,{children:"n"})]}),children:t.jsx(v,{onClick:()=>o(!0),leftSection:t.jsx(we,{}),variant:"default",children:e("deck.new-deck-button")})}),t.jsx(Oa,{deckList:r,isReady:s})]}),t.jsx(it,{opened:n,setOpened:o})]})}const He=C.lazy(()=>A(()=>import("./DeckView-OuW9uilD.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17]))),$a=C.lazy(()=>A(()=>import("./NewNotesView-hcZwMXUe.js"),__vite__mapDeps([18,1,2,3,4,5,6,7,8,19,9,13,20]))),Pa=C.lazy(()=>A(()=>import("./NoteExplorerView-uf53LbVg.js"),__vite__mapDeps([21,1,2,3,4,5,6,7,19,9,10,11,12,13,14,22]))),Ha=C.lazy(()=>A(()=>import("./LearnView-DLiE1el5.js"),__vite__mapDeps([23,1,2,3,4,5,6,7,8,9,24,15,16,11,12,25]))),Va=C.lazy(()=>A(()=>import("./SettingsView-D1_pprI3.js"),__vite__mapDeps([26,1,2,3,4,5,6,7,9,24,11,27]))),Wa=C.lazy(()=>A(()=>import("./StatsView-COrDzEhT.js"),__vite__mapDeps([28,1,2,3,4,5,6,7,9,19]))),Ka=C.lazy(()=>A(()=>import("./TodayView-Cml_Qg6j.js"),__vite__mapDeps([29,1,2,3,4,5,6,7,9]))),Ua=qt.createRoot(document.getElementById("root")),qa=Gt([{element:t.jsx(Ca,{}),children:[{index:!0,element:t.jsx(Zt,{to:"/home",replace:!0})},{path:"/home",element:t.jsx(Ra,{})},{path:"/settings/:section?",element:t.jsx(Va,{})},{path:"/deck/:deckId",element:t.jsx(He,{})},{path:"/deck/:deckId/:params",element:t.jsx(He,{})},{path:"/new/:deckId?",element:t.jsx($a,{})},{path:"/learn/:deckId/:params?",element:t.jsx(Ha,{})},{path:"/notes/:deckId?",element:t.jsx(Pa,{})},{path:"/today",element:t.jsx(Ka,{})},{path:"/stats/:deckId?",element:t.jsx(Wa,{})}]}],{basename:"/"});Ua.render(t.jsx(C.StrictMode,{children:t.jsx(C.Suspense,{fallback:t.jsx(ie,{h:"100vh",children:t.jsx(Yt,{})}),children:t.jsx(Qt,{router:qa})})}));navigator.serviceWorker.getRegistrations().then(e=>{for(const n of e)n.unregister()});async function Ga(){return navigator.storage&&navigator.storage.persist&&navigator.storage.persist()}async function Qa(){return await navigator.storage&&navigator.storage.persisted&&navigator.storage.persisted()}Qa().then(async e=>{e||(console.warn("Storage is not persistant. Trying to make it persistant..."),await Ga()?console.log("Successfully made storage persisted"):(console.warn("Failed to make storage persisted"),navigator.userAgent.includes("Safari")&&console.info("You are using Safari, storage may be cleared after 7 days of inactivity: https://webkit.org/blog/10218/full-third-party-cookie-blocking-and-more/")))});export{go as A,Oa as D,Na as E,ma as N,nt as S,L as a,ae as b,p as c,c as d,st as e,ka as f,ca as g,da as h,ir as i,de as j,ha as k,Ta as l,it as m,cr as n,lr as o,ua as p,Hs as q,sr as r,or as s,ar as t,Ea as u,rr as v,dt as w,Aa as x};
