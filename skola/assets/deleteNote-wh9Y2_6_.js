import{d as e}from"./index-DRsVs7hl.js";function i(s){return e.transaction("rw",e.notes,e.cards,e.decks,async()=>{await e.notes.delete(s.id);const d=e.cards.where("note").equals(s.id);d.delete();const t=await e.decks.get(s.deck);await e.decks.update(s.deck,{notes:t==null?void 0:t.notes.filter(a=>a!==s.id),cards:t==null?void 0:t.cards.filter(a=>d.primaryKeys().then(r=>!r.includes(a)))})})}export{i as d};
